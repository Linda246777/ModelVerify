# Agent History

## 2026-01-24 - 项目目录结构重构

### 模块变更总结

本次会话主要完成了项目的目录结构重构，将根目录下的脚本和模块进行了分类整理：

1. **核心模块迁移**：`base/` 移动到 `src/base/`
2. **脚本分类整理**：
   - `validators/` - 模型验证相关脚本
   - `visualizers/` - 可视化相关脚本
   - `converters/` - 数据转换相关脚本
3. **配置文件更新**：`pyproject.toml`、`README.md`、`CLAUDE.md`
4. **新增文件**：`CLAUDE.md`、`.agent_history/` 目录

### 对话过程

1. **初始请求**：用户希望整理 Python 项目的文件，根据不同脚本进行分类

2. **项目分析**：我探索了项目结构，发现了 `base/` 目录和根目录下的各种脚本文件

3. **分类方案提出**：我建议创建 `validators/`、`visualizers/`、`converters/` 等子目录来分类脚本

4. **模块迁移**：用户将 `base/` 移动到 `src/base/`，将脚本移动到对应子目录

5. **文档更新**：我帮助更新了以下内容：
   - `pyproject.toml`：添加 `setuptools.packages.find` 配置
   - `README.md`：更新项目结构图和命令示例
   - `CLAUDE.md`：新建项目指导文件
   - 所有脚本文件头部的使用说明

6. **命令格式统一**：将所有命令示例统一为 `uv run python <script>` 格式

7. **新增 Claude Code 配置**：
   - 创建 `.agent/` 目录
   - 创建 `CLAUDE.md` 项目指导文件
   - 创建 `.agent_history/` 目录用于记录会话历史

### 关键决策

- 采用 `src/` 布局来组织 Python 包结构
- 使用 `uv` 作为包管理器，所有命令通过 `uv run python` 执行
- 使用中文记录 `.agent_history` 以便于团队理解
- `.agent_history/` 采用 `YYYY-MM-DD-标题.md` 文件命名格式

### 技术细节

- `pyproject.toml` 配置指向 `src/` 目录查找 `base*` 包
- 脚本导入路径保持为 `from base.xxx import xxx`
- 核心数据类型位于 `src/base/datatype.py`（Pose、ImuData、UnitData 等）
